<div *ngIf="restaurant" class="container">
  <p>{{ restaurant.name }}</p>
  <div class="menu">
    <div class="menu-bar">
      <div
        class="menu-tab"
        [ngClass]="activeTab === 'foods' ? 'active' : ''"
        (click)="changeActiveTab('foods')"
      >
        Étlap
      </div>
      <div
        class="menu-tab"
        [ngClass]="activeTab === 'drinks' ? 'active' : ''"
        (click)="changeActiveTab('drinks')"
      >
        Itallap
      </div>
    </div>
    <table>
      <thead>
        <tr>
          <th>Név</th>
          <th>Ár</th>
        </tr>
      </thead>
      <tbody>
        <ng-container
          *ngFor="let menuItem of menuDataSource;"
        >
          <tr>
            <td>{{ menuItem.name }}</td>
            <td>{{ menuItem.price }}</td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
  <div class="reservation">
    <div class="reservation-bar">
      <div class="reservation-tab">Asztal foglalás</div>
      <form class="reservationForm" [formGroup]="reservationForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="datetime">Időpont</label>
          <input type="datetime-local" formControlName="datetime" class="form-control" [ngClass]="{ 'is-invalid': submitted && reservationForm.controls.datetime.errors }" />
          <div *ngIf="submitted && reservationForm.controls.datetime.errors" class="invalid-feedback">
              <div *ngIf="reservationForm.controls.datetime.errors.required">Az időpont kötelező</div>
          </div>
        </div>
        <div class="form-group">
          <label for="reservedSeats">Hány főre szeretne foglalni?</label>
          <input type="text" formControlName="reservedSeats" class="form-control" [ngClass]="{ 'is-invalid': submitted && reservationForm.controls.datetime.errors }" />
          <div *ngIf="submitted && reservationForm.controls.reservedSeats.errors" class="invalid-feedback">
              <div *ngIf="reservationForm.controls.reservedSeats.errors.required">A foglalás  legalább 1 fő esetén érvényes</div>
              <div *ngIf="reservationForm.controls.reservedSeats.errors.min">A foglalás  legalább 1 fő esetén érvényes</div>
          </div>
        </div>
        <div class="form-group">
          <button [disabled]="loading" class="btn btn-primary">
              <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
              Foglalás
          </button>
        </div>
      </form>
    </div>
  </div>
</div>